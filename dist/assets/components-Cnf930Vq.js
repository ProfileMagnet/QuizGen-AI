const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sections-WTnCkMkB.js","assets/react-vendor-B9ZGZSHM.js","assets/vendor-DXIr2iB9.js","assets/sections-zwz6kXNB.css","assets/quiz-generator-C8O3imKe.js","assets/quiz-generator-CK368sPO.css","assets/animated-bg-DTq9KFyU.js","assets/pdf-vendor-DsmOvANQ.js"])))=>i.map(i=>d[i]);
var ee=Object.defineProperty,se=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var J=(o,u,r)=>u in o?ee(o,u,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[u]=r,Q=(o,u)=>{for(var r in u||(u={}))re.call(u,r)&&J(o,r,u[r]);if(X)for(var r of X(u))ne.call(u,r)&&J(o,r,u[r]);return o},M=(o,u)=>se(o,te(u));var P=(o,u,r)=>new Promise((N,n)=>{var s=x=>{try{c(r.next(x))}catch(j){n(j)}},h=x=>{try{c(r.throw(x))}catch(j){n(j)}},c=x=>x.done?N(x.value):Promise.resolve(x.value).then(s,h);c((r=r.apply(o,u)).next())});import{j as e,r as A,R as Y,C as ce,T as ae,A as ie,a as oe,B as le,b as I,c as O,d as K,u as de,e as he,G as Z,D as me,H as ue,f as U,g as B,E as pe}from"./react-vendor-B9ZGZSHM.js";import"./quiz-generator-C8O3imKe.js";const xe="modulepreload",ge=function(o){return"/"+o},q={},_=function(u,r,N){let n=Promise.resolve();if(r&&r.length>0){let h=function(j){return Promise.all(j.map(a=>Promise.resolve(a).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),x=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=h(r.map(j=>{if(j=ge(j),j in q)return;q[j]=!0;const a=j.endsWith(".css"),b=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${b}`))return;const F=document.createElement("link");if(F.rel=a?"stylesheet":xe,a||(F.as="script"),F.crossOrigin="",F.href=j,x&&F.setAttribute("nonce",x),document.head.appendChild(F),a)return new Promise(($,m)=>{F.addEventListener("load",$),F.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${j}`)))})}))}function s(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return n.then(h=>{for(const c of h||[])c.status==="rejected"&&s(c.reason);return u().catch(s)})},je=()=>e.jsx("div",{className:"loading-container"}),T=(o,u)=>{const r=N=>e.jsx(A.Suspense,{fallback:e.jsx(je,{message:u}),children:e.jsx(o,Q({},N))});return r.displayName=`LazyLoaded(${o.displayName||o.name})`,r},Re=o=>o(),ve=(o=.1)=>{const[u,r]=Y.useState(!1),N=Y.useRef(null);return Y.useEffect(()=>{const n=new IntersectionObserver(([s])=>{s.isIntersecting&&(r(!0),n.disconnect())},{threshold:o,rootMargin:"50px"});return N.current&&n.observe(N.current),()=>n.disconnect()},[o]),{ref:N,isVisible:u}},De=T(A.lazy(()=>_(()=>import("./sections-WTnCkMkB.js").then(o=>o.A),__vite__mapDeps([0,1,2,3])))),_e=T(A.lazy(()=>_(()=>import("./sections-WTnCkMkB.js").then(o=>o.T),__vite__mapDeps([0,1,2,3])))),Te=T(A.lazy(()=>_(()=>import("./sections-WTnCkMkB.js").then(o=>o.E),__vite__mapDeps([0,1,2,3])))),Pe=T(A.lazy(()=>_(()=>import("./sections-WTnCkMkB.js").then(o=>o.U),__vite__mapDeps([0,1,2,3])))),Qe=T(A.lazy(()=>_(()=>import("./sections-WTnCkMkB.js").then(o=>o.a),__vite__mapDeps([0,1,2,3])))),Me=T(A.lazy(()=>_(()=>import("./sections-WTnCkMkB.js").then(o=>o.C),__vite__mapDeps([0,1,2,3])))),Ie=T(A.lazy(()=>_(()=>import("./sections-WTnCkMkB.js").then(o=>o.F),__vite__mapDeps([0,1,2,3])))),Oe=T(A.lazy(()=>_(()=>import("./quiz-generator-C8O3imKe.js"),__vite__mapDeps([4,1,2,5])))),Ue=T(A.lazy(()=>_(()=>import("./sections-WTnCkMkB.js").then(o=>o.D),__vite__mapDeps([0,1,2,3])))),Be=T(A.lazy(()=>_(()=>import("./animated-bg-DTq9KFyU.js"),__vite__mapDeps([6,1,2])))),We=({children:o,id:u,className:r,threshold:N=.1,fallback:n=null})=>{const{ref:s,isVisible:h}=ve(N);return e.jsx("section",{ref:s,id:u,className:r,children:h?o:n})},Ge=({onComplete:o,duration:u=100})=>{const[r,N]=A.useState([]),[n,s]=A.useState(!0),h=A.useMemo(()=>["#8B5CF6","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#06B6D4","#84CC16"],[]),c=A.useMemo(()=>["square","circle","triangle"],[]);return A.useEffect(()=>{const x=[];for(let a=0;a<50;a++)x.push({id:a,left:50+(Math.random()-.5)*60,delay:Math.random()*.2,rotation:Math.random()*360,color:h[Math.floor(Math.random()*h.length)],size:Math.random()*8+4,duration:Math.random()*1+2,type:c[Math.floor(Math.random()*c.length)]});N(x);const j=setTimeout(()=>{s(!1),o&&o()},u);return()=>clearTimeout(j)},[u,o,h,c]),n?e.jsxs("div",{className:"confetti-container",children:[e.jsxs("div",{className:"success-message",children:[e.jsx("div",{className:"success-icon",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"checkmark",children:e.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",fill:"currentColor"})})}),e.jsx("h2",{className:"success-text",children:"Quiz Generated!"}),e.jsx("p",{className:"success-subtext",children:"Ready to start"})]}),r.map(x=>e.jsx("div",{className:`confetti-piece confetti-${x.type}`,style:{left:`${x.left}%`,backgroundColor:x.color,width:`${x.size}px`,height:`${x.size}px`,animationDelay:`${x.delay}s`,animationDuration:`${x.duration}s`,"--rotation":`${x.rotation}deg`}},x.id))]}):null},Ve=({message:o="Generating your quiz...",onTimeout:u})=>{const[r,N]=A.useState(o);return A.useEffect(()=>{const n=setTimeout(()=>{N("It's taking longer than expected, please wait..."),u&&u()},6e4);return()=>{clearTimeout(n)}},[u]),e.jsx("div",{className:"loading-animation-container",children:e.jsxs("div",{className:"loading-content",children:[e.jsxs("div",{className:"brain-container",children:[e.jsxs("div",{className:"brain-icon",children:[e.jsx("div",{className:"brain-left"}),e.jsx("div",{className:"brain-right"}),e.jsx("div",{className:"synapse synapse-1"}),e.jsx("div",{className:"synapse synapse-2"}),e.jsx("div",{className:"synapse synapse-3"}),e.jsx("div",{className:"synapse synapse-4"})]}),e.jsx("div",{className:"glow-effect"})]}),e.jsx("div",{className:"particles",children:[...Array(12)].map((n,s)=>e.jsx("div",{className:`particle particle-${s+1}`},s))}),e.jsxs("div",{className:"loading-text",children:[e.jsx("h3",{children:r}),e.jsxs("div",{className:"dots-container",children:[e.jsx("span",{className:"dot",children:"."}),e.jsx("span",{className:"dot",children:"."}),e.jsx("span",{className:"dot",children:"."})]})]}),e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill"})})}),e.jsxs("div",{className:"fun-fact",children:[e.jsx("p",{className:"fact-label",children:"Did you know?"}),e.jsx("p",{className:"fact-text",id:"rotating-fact",children:"AI is analyzing patterns to create perfect questions..."})]})]})})},He=({isOpen:o,title:u,message:r,onRetry:N,onCancel:n,retryText:s="Retry",cancelText:h="Ok",showRetry:c=!0,showCancel:x=!0,type:j="info"})=>o?e.jsx("div",{className:"common-dialog-overlay",children:e.jsxs("div",{className:`common-dialog dialog-${j}`,children:[e.jsx("div",{className:"dialog-header",children:e.jsx("h3",{children:u})}),e.jsx("div",{className:"dialog-body",children:e.jsx("p",{children:r})}),e.jsxs("div",{className:"dialog-footer",children:[x&&e.jsx("button",{className:`dialog-button cancel-button ${j==="error"?"error":""}`,onClick:n,children:h}),c&&e.jsx("button",{className:`dialog-button retry-button ${j==="error"?"error":""}`,onClick:N,children:s})]})]})}):null,W=({questions:o,userAnswers:u,fibUserAnswers:r={},orderingUserOrders:N={},matchingUserMatches:n={},isVisible:s})=>{const h=()=>{const a=o.length;let b=0,F=0;o.forEach(w=>{let L=!1,S=!1;if(w.type==="fib"){const v=r[w.id];if(v&&v.trim()!==""){L=!0;const y=v.trim().toLowerCase();S=(w.answersList||[]).some(f=>f.toLowerCase()===y)}}else if(w.type==="ordering"){const v=N[w.id];if(Array.isArray(v)&&v.length>0){L=!0;const y=w.orderingAnswerIndexList||[];S=v.length===y.length&&v.every((C,f)=>C===y[f])}}else if(w.type==="matching"){const v=n[w.id];if(Array.isArray(v)&&v.length>0){const y=w.matchingLeft?w.matchingLeft.length:0;if(v.length===y&&v.every(C=>typeof C=="number")){L=!0;const C=w.matchingAnswerIndexList||[];S=v.every((f,i)=>f===C[i])}}}else u[w.id]!==void 0&&(L=!0,S=u[w.id]===w.correctAnswer);L&&(b++,S&&F++)});const $=b>0?Math.round(F/b*100):0,m=a>0?Math.round(b/a*100):0;return{totalQuestions:a,answeredQuestions:b,correctAnswers:F,accuracy:$,progress:m,remaining:a-b}},c=a=>a>=90?{level:"Excellent",color:"#22c55e",icon:"ðŸ†"}:a>=75?{level:"Good",color:"#3b82f6",icon:"ðŸ‘"}:a>=60?{level:"Average",color:"#f59e0b",icon:"ðŸ“ˆ"}:{level:"Needs Work",color:"#ef4444",icon:"ðŸ’ª"},x=h(),j=c(x.accuracy);return s?e.jsxs("div",{className:"insights-dashboard",children:[e.jsx("div",{className:"dashboard-header",children:e.jsxs("div",{className:"dashboard-title",children:[e.jsx(ce,{size:20}),e.jsx("span",{children:"Real-time Insights"})]})}),e.jsxs("div",{className:"dashboard-content",children:[e.jsxs("div",{className:"insight-card progress-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ae,{size:16}),e.jsx("span",{children:"Progress"})]}),e.jsxs("div",{className:"progress-stats",children:[e.jsx("div",{className:"progress-circle",children:e.jsxs("svg",{viewBox:"0 0 36 36",className:"circular-chart",children:[e.jsx("path",{className:"circle-bg",d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`}),e.jsx("path",{className:"circle",strokeDasharray:`${x.progress}, 100`,d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`}),e.jsxs("text",{x:"18",y:"20.35",className:"percentage",children:[x.progress,"%"]})]})}),e.jsxs("div",{className:"progress-details",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:x.answeredQuestions}),e.jsx("span",{className:"stat-label",children:"Answered"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:x.remaining}),e.jsx("span",{className:"stat-label",children:"Remaining"})]})]})]})]}),e.jsxs("div",{className:"insight-card performance-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ie,{size:16}),e.jsx("span",{children:"Performance"})]}),e.jsxs("div",{className:"performance-content",children:[e.jsxs("div",{className:"performance-level",style:{color:j.color},children:[e.jsx("span",{className:"performance-icon",children:j.icon}),e.jsx("span",{className:"performance-text",children:j.level})]}),e.jsxs("div",{className:"accuracy-display",children:[e.jsxs("span",{className:"accuracy-value",children:[x.accuracy,"%"]}),e.jsx("span",{className:"accuracy-label",children:"Accuracy"})]})]})]}),e.jsxs("div",{className:"insight-card stats-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(oe,{size:16}),e.jsx("span",{children:"Quick Stats"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-box correct",children:[e.jsx("div",{className:"stat-number",children:x.correctAnswers}),e.jsx("div",{className:"stat-text",children:"Correct"})]}),e.jsxs("div",{className:"stat-box incorrect",children:[e.jsx("div",{className:"stat-number",children:x.answeredQuestions-x.correctAnswers}),e.jsx("div",{className:"stat-text",children:"Incorrect"})]}),e.jsxs("div",{className:"stat-box total",children:[e.jsx("div",{className:"stat-number",children:x.totalQuestions}),e.jsx("div",{className:"stat-text",children:"Total"})]})]})]}),x.answeredQuestions>0&&e.jsxs("div",{className:"insight-card tips-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(le,{size:16}),e.jsx("span",{children:"Study Tips"})]}),e.jsxs("div",{className:"tips-content",children:[x.accuracy>=90&&e.jsxs("div",{className:"tip",children:[e.jsx("span",{className:"tip-icon",children:"ðŸŒŸ"}),e.jsx("span",{children:"Excellent work! You're mastering this topic."})]}),x.accuracy>=75&&x.accuracy<90&&e.jsxs("div",{className:"tip",children:[e.jsx("span",{className:"tip-icon",children:"ðŸ“š"}),e.jsx("span",{children:"Good progress! Review incorrect answers to improve."})]}),x.accuracy>=60&&x.accuracy<75&&e.jsxs("div",{className:"tip",children:[e.jsx("span",{className:"tip-icon",children:"ðŸŽ¯"}),e.jsx("span",{children:"Focus on understanding key concepts better."})]}),x.accuracy<60&&x.answeredQuestions>=3&&e.jsxs("div",{className:"tip",children:[e.jsx("span",{className:"tip-icon",children:"ðŸ’¡"}),e.jsx("span",{children:"Consider reviewing the material before continuing."})]}),x.remaining>0&&e.jsxs("div",{className:"tip",children:[e.jsx("span",{className:"tip-icon",children:"â°"}),e.jsxs("span",{children:[x.remaining," questions left to complete!"]})]})]})]})]})]}):null},fe=({id:o,index:u,text:r,isUsed:N,quizMode:n})=>{const[{isDragging:s},h]=he({type:"answer",item:{id:o,index:u},canDrag:n==="practice"&&!N,collect:c=>({isDragging:c.isDragging()})});return N?null:e.jsxs("div",{ref:h,className:`matching-right-item ${s?"dragging":""}`,children:[e.jsx(Z,{size:16,className:"drag-handle"}),e.jsx("span",{className:"right-item-text",children:r})]})},Ne=A.memo(fe),we=({leftIndex:o,leftItem:u,matchedRightIndex:r,rightItems:N,quizMode:n,status:s,onDrop:h,onRemove:c})=>{const[{isOver:x},j]=de({accept:"answer",drop:a=>{h(o,a.index)},canDrop:()=>n==="practice",collect:a=>({isOver:a.isOver()})});return e.jsxs("div",{className:`matching-left-item ${x?"drag-over":""} ${s}`,children:[e.jsxs("div",{className:"matching-left-content",children:[e.jsxs("span",{className:"matching-index",children:[o+1,"."]}),e.jsx("span",{className:"matching-text",children:u})]}),e.jsx("div",{ref:j,className:"matching-connection",children:r!==void 0?e.jsxs("div",{className:"matched-item",children:[e.jsx("span",{className:"matched-text",children:N[r]}),e.jsx(K,{size:16,className:"arrow-icon"}),n==="practice"&&e.jsx("button",{className:"remove-match-btn",onClick:()=>c(o),title:"Remove match",children:"Ã—"}),n==="review"&&e.jsx("div",{className:"match-status-icon",children:s==="correct"?e.jsx(I,{size:16,className:"correct-icon"}):e.jsx(O,{size:16,className:"incorrect-icon"})})]}):e.jsx("div",{className:"drop-zone",children:e.jsx("span",{className:"drop-text",children:"Drop your answer here"})})})]})},be=A.memo(we),ye=({question:o,quizMode:u,currentMatches:r,setMatches:N,questionNumber:n=1,totalQuestions:s=1,score:h=0,isSubmitted:c=!1,onQuestionSubmit:x,onResetQuestion:j})=>{const a=o.matchingLeft||[],b=o.matchingRight||[],F=o.matchingAnswerIndexList||[],$=(f,i)=>{if(u!=="practice")return;const p=[...r];for(let l=0;l<p.length;l++)p[l]===i&&(p[l]=void 0);p[f]=i,N(p)},m=f=>{if(u!=="practice")return;const i=[...r];i[f]=void 0,N(i)},w=()=>r.length===a.length&&r.every(f=>typeof f=="number"),L=()=>w()&&r.every((f,i)=>f===F[i]),S=f=>u==="review"&&r[f]!==void 0?r[f]===F[f]?"correct":"incorrect":"none",v=f=>r.some(p=>p===f),y=()=>{const f=r.filter(i=>i!==void 0).length;return Math.round(f/a.length*100)},C=()=>{const f=u==="review"?h:y();return f===100?"ðŸŽ‰ Perfect!":f>=80?"ðŸ”¥ Keep going!":f>=50?"ðŸ‘ Good progress!":f>0?"ðŸ’ª Keep it up!":"ðŸš€ Start matching!"};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"matching-header",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"matching-title",children:"Match the Following"}),e.jsx("p",{className:"matching-subtitle",children:"Drag items from the right to match with items on the left."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"question-progress",children:["Question ",n," of ",s]}),e.jsxs("div",{className:"timer-score-display",children:["Score: ",h,"%"]})]})]}),e.jsxs("div",{className:"matching-stats",children:[e.jsxs("div",{className:"progress-container",children:[e.jsxs("div",{className:"progress-label",children:[e.jsx("span",{className:"progress-text",children:"Progress"}),e.jsxs("span",{className:"progress-text",children:[y(),"%"]})]}),e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${y()}%`}})})]}),e.jsxs("div",{className:"accuracy-display",children:["Accuracy: ",h,"%"]}),e.jsx("div",{className:"encouragement-message",children:C()})]}),e.jsx("div",{className:"question-options",children:e.jsxs("div",{className:"matching-container",children:[e.jsxs("div",{className:"matching-column matching-left-column",children:[e.jsx("div",{className:"column-header",children:"Questions"}),a.map((f,i)=>{const p=r[i],l=S(i);return e.jsx(be,{leftIndex:i,leftItem:f,matchedRightIndex:p,rightItems:b,quizMode:u,status:l,onDrop:$,onRemove:m},i)})]}),e.jsxs("div",{className:"matching-right-column",children:[e.jsx("div",{className:"column-header",children:"Drag Answers"}),e.jsx("div",{className:`right-column-content ${b.filter((f,i)=>!v(i)).length===0?"all-matched":""}`,children:b.map((f,i)=>{const p=v(i);return e.jsx(Ne,{id:i,index:i,text:f,isUsed:p,quizMode:u},i)})})]})]})}),e.jsxs("div",{className:"matching-actions",children:[u==="practice"&&!c&&e.jsx("button",{className:"action-btn submit-btn",disabled:!w(),onClick:x,children:"Check Answer"}),u==="practice"&&c&&e.jsx("div",{className:"question-feedback",children:L()?e.jsxs("div",{className:"feedback correct-feedback",children:[e.jsx(I,{className:"feedback-icon",size:20}),"Correct! Well done."]}):e.jsxs("div",{className:"feedback incorrect-feedback",children:[e.jsx(O,{className:"feedback-icon",size:20}),"Some matches are incorrect. Check the correct answers below."]})}),e.jsx("button",{className:"action-btn reset-btn",onClick:()=>{N(Array(a.length).fill(void 0)),j&&j()},disabled:u!=="practice"||c,children:"Reset"}),e.jsx("button",{className:"action-btn next-btn",disabled:!w(),children:"Next"})]}),u==="practice"&&w()&&e.jsx("div",{className:"instant-feedback",children:L()?e.jsxs("div",{className:"feedback correct-feedback",children:[e.jsx(I,{className:"feedback-icon",size:20}),"Perfect! All matches are correct."]}):e.jsx("div",{className:"feedback incorrect-feedback",children:e.jsxs("div",{className:"feedback-content",children:[e.jsx(O,{className:"feedback-icon",size:20}),e.jsx("span",{children:"Some matches are incorrect. Try again!"})]})})}),u==="practice"&&c&&e.jsxs("div",{className:"review-mode-display",children:[e.jsx("h4",{children:"Correct Matches:"}),e.jsx("div",{className:"review-matches-list",children:a.map((f,i)=>{const p=r[i],l=F[i],g=p===l;return e.jsxs("div",{className:`review-match-item ${g?"correct":"incorrect"}`,children:[e.jsxs("div",{className:"review-match-content",children:[e.jsx("span",{className:"review-left",children:f}),e.jsxs("div",{className:"review-connection",children:[e.jsx(K,{size:16,className:"review-arrow"}),p!==void 0?e.jsx("span",{className:"review-user-answer",children:b[p]}):e.jsx("span",{className:"review-user-answer empty",children:"No answer"}),e.jsx("div",{className:"review-status-icon",children:g?e.jsx(I,{size:16,className:"correct-icon"}):e.jsx(O,{size:16,className:"incorrect-icon"})})]})]}),!g&&e.jsxs("div",{className:"correct-answer-display",children:[e.jsx("span",{className:"correct-label",children:"Correct:"}),e.jsx("span",{className:"correct-answer",children:b[l]})]})]},i)})})]}),u==="review"&&e.jsxs("div",{className:"review-mode-display",children:[e.jsx("h4",{children:"Your Answers & Correct Matches:"}),e.jsx("div",{className:"review-matches-list",children:a.map((f,i)=>{const p=r[i],l=F[i],g=p===l;return e.jsxs("div",{className:`review-match-item ${g?"correct":"incorrect"}`,children:[e.jsxs("div",{className:"review-match-content",children:[e.jsx("span",{className:"review-left",children:f}),e.jsxs("div",{className:"review-connection",children:[e.jsx(K,{size:16,className:"review-arrow"}),p!==void 0?e.jsx("span",{className:"review-user-answer",children:b[p]}):e.jsx("span",{className:"review-user-answer empty",children:"No answer"}),e.jsx("div",{className:"review-status-icon",children:g?e.jsx(I,{size:16,className:"correct-icon"}):e.jsx(O,{size:16,className:"incorrect-icon"})})]})]}),!g&&e.jsxs("div",{className:"correct-answer-display",children:[e.jsx("span",{className:"correct-label",children:"Correct:"}),e.jsx("span",{className:"correct-answer",children:b[l]})]})]},i)})})]})]})},Ce=A.memo(ye),G=o=>P(null,null,function*(){const{default:u}=yield _(()=>P(null,null,function*(){const{default:m}=yield import("./pdf-vendor-DsmOvANQ.js");return{default:m}}),__vite__mapDeps([7,2,1,4,5])),r=new u,N=r.internal.pageSize.getWidth(),n=r.internal.pageSize.getHeight();let s=15;const h=15,c=N-h*2,x=5,j=4,a=(m,w,L,S,v=12)=>{r.setFontSize(v);const y=r.splitTextToSize(m,S);return r.text(y,w,L),L+y.length*x+2},b=m=>s+m>n-h?(r.addPage(),s=15,!0):!1;o.forEach(m=>{var S,v,y,C,f;let w=30;m.type==="mcq"||m.type==="tf"?w+=m.options.length*10:m.type==="fib"?w+=14:m.type==="ordering"?w+=(((S=m.orderingContents)==null?void 0:S.length)||0)*10:m.type==="matching"&&(w+=Math.max(((v=m.matchingLeft)==null?void 0:v.length)||0,((y=m.matchingRight)==null?void 0:y.length)||0)*10),b(w),r.setFontSize(11),r.setFont("helvetica","bold");const L=`${m.id}. ${m.question}`;if(s=a(L,h,s,c,11),s+=2,r.setFontSize(9),r.setFont("helvetica","normal"),!m.type||m.type==="mcq"||m.type==="tf")m.options.forEach((i,p)=>{const g=`${String.fromCharCode(65+p)}) ${i}`;s=a(g,h+8,s,c-8,9)});else if(m.type==="fib"){const i=s+4;r.line(h,i,h+c/2,i),s+=12}else if(m.type==="ordering")(m.orderingContents||[]).forEach((p,l)=>{s=a(`${l+1}) ${p}`,h+8,s,c-8,9)});else if(m.type==="matching"){const i=m.matchingLeft||[],p=m.matchingRight||[],l=Math.max(i.length,p.length);for(let g=0;g<l;g++){const E=(C=i[g])!=null?C:"",t=(f=p[g])!=null?f:"",d=E.replace(/\s+/g," ").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim(),k=t.replace(/\s+/g," ").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim(),R=`${String.fromCharCode(65+g)}) ${d}     âŸ·     ${g+1}) ${k}`;s=a(R,h+8,s,c-8,9)}}s+=j}),r.addPage(),s=15,r.setFontSize(16),r.setFont("helvetica","bold"),s=a("Answer Key",h,s,c,16),s+=10,r.setFontSize(11),r.setFont("helvetica","normal"),o.forEach(m=>{if(b(30),!m.type||m.type==="mcq"||m.type==="tf"){const w=String.fromCharCode(65+m.correctAnswer),L=`${m.id}. ${w}`;s=a(L,h,s,c,11)}else if(m.type==="fib"){const w=m.answersList||[],L=`${m.id}. Acceptable answers:`;if(s=a(L,h,s,c,11),b(w.length*10),w.length>0){let S="";w.forEach((y,C)=>{const f=`${C+1}) ${y}`;S.length+f.length>80&&S.length>0?(s=a(S,h+10,s,c-10,11),S=f):S.length===0?S=f:S+=`  ${f}`}),S.length>0&&(s=a(S,h+10,s,c-10,11))}}else if(m.type==="ordering"){const w=m.orderingContents||[],L=m.orderingAnswerIndexList||[],S=`${m.id}. Correct order:`;s=a(S,h,s,c,11),b(L.length*15),L.forEach((v,y)=>{const C=`${y+1}. ${w[v]}`;s=a(C,h+10,s,c-10,11)})}else if(m.type==="matching"){const w=m.matchingLeft||[],L=m.matchingRight||[],S=m.matchingAnswerIndexList||[],v=`${m.id}. Correct matches:`;s=a(v,h,s,c,11),b(w.length*15),w.forEach((y,C)=>{const f=typeof S[C]=="number"?L[S[C]]:"",i=y.replace(/\s+/g," ").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim(),p=f.replace(/\s+/g," ").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim(),l=`${String.fromCharCode(65+C)}) ${i} â†’ ${C+1}) ${p}`;r.getStringUnitWidth(l)*11/r.internal.scaleFactor>c-20?(s=a(`${String.fromCharCode(65+C)}) ${i}`,h+10,s,c-10,11),s=a(`   â†’ ${C+1}) ${p}`,h+20,s,c-20,11)):s=a(l,h+10,s,c-10,11)})}s+=2});const F=n-10;r.setFontSize(8),r.setFont("helvetica","italic"),r.text("QuizGen AI",h,F),r.text(new Date().toLocaleDateString(),N-h-30,F);const $=`quiz-${new Date().toISOString().split("T")[0]}.pdf`;r.save($)}),Ae=o=>P(null,null,function*(){const{default:u}=yield _(()=>P(null,null,function*(){const{default:m}=yield import("./pdf-vendor-DsmOvANQ.js");return{default:m}}),__vite__mapDeps([7,2,1,4,5])),r=new u,N=r.internal.pageSize.getWidth(),n=r.internal.pageSize.getHeight();let s=15;const h=15,c=N-h*2,x=5,j=4;r.setFont("helvetica");const a=(m,w,L,S,v=12)=>{r.setFontSize(v);const y=m.replace(/\s+/g," ").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim(),C=r.splitTextToSize(y,S);return r.text(C,w,L),L+C.length*x+2},b=m=>s+m>n-h?(r.addPage(),s=15,!0):!1;o.forEach(m=>{var S,v;const w=30+Math.max(((S=m.matchingLeft)==null?void 0:S.length)||0,((v=m.matchingRight)==null?void 0:v.length)||0)*10;b(w),r.setFontSize(11),r.setFont("helvetica","bold");const L=`${m.id}. ${m.question}`;if(s=a(L,h,s,c,11),s+=2,r.setFontSize(9),r.setFont("helvetica","normal"),m.type==="matching"){const y=m.matchingLeft||[],C=m.matchingRight||[],f=Math.max(y.length,C.length);s=a("Column A",h+8,s,c/2-10,10),s=a("Column B",h+c/2,s-7,c/2-10,10),s+=2;for(let i=0;i<f;i++){const p=y[i]||"",l=C[i]||"",g=p.replace(/\s+/g," ").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim(),E=l.replace(/\s+/g," ").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim(),t=`${String.fromCharCode(65+i)}) ${g}`;s=a(t,h+12,s,c/2-20,9);const d=`${i+1}) ${E}`;r.text(d,h+c/2+4,s-3)}}s+=j}),r.addPage(),s=15,r.setFontSize(16),r.setFont("helvetica","bold"),s=a("Answer Key",h,s,c,16),s+=10,r.setFontSize(11),r.setFont("helvetica","normal"),o.forEach(m=>{if(b(30),m.type==="matching"){const w=m.matchingLeft||[],L=m.matchingRight||[],S=m.matchingAnswerIndexList||[],v=`${m.id}. Correct matches:`;s=a(v,h,s,c,11),b(w.length*15),w.forEach((y,C)=>{const f=S[C],i=typeof f=="number"?L[f]:"Unknown",p=y.replace(/\s+/g," ").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim(),l=i.replace(/\s+/g," ").replace(/[^\x20-\x7E\u00A0-\u024F\u1E00-\u1EFF]/g,"").trim(),g=`${String.fromCharCode(65+C)}) ${p} â†’ ${String.fromCharCode(65+C)}) ${l}`;r.getStringUnitWidth(g)*11/r.internal.scaleFactor>c-20?(s=a(`${String.fromCharCode(65+C)}) ${p}`,h+10,s,c-10,11),s=a(`   â†’ ${String.fromCharCode(65+C)}) ${l}`,h+20,s,c-20,11)):s=a(g,h+10,s,c-10,11)})}s+=2});const F=n-10;r.setFontSize(8),r.setFont("helvetica","italic"),r.text("QuizGen AI",h,F),r.text(new Date().toLocaleDateString(),N-h-30,F);const $=`matching-quiz-${new Date().toISOString().split("T")[0]}.pdf`;r.save($)}),ke=({generatedQuiz:o,onReset:u,onGenerateMore:r,isGenerating:N})=>{const n=A.useMemo(()=>o.filter(t=>t.type==="matching"),[o]),[s,h]=A.useState({}),[c,x]=A.useState("practice"),[j,a]=A.useState(0),[b]=A.useState(5),[F,$]=A.useState(new Set),m=A.useRef(n.length);A.useEffect(()=>{if(n.length>m.current&&m.current>0){const t=Math.floor(m.current/b);t<w()&&a(t)}m.current=n.length},[n.length,b]);const w=()=>Math.ceil(n.length/b);A.useEffect(()=>{const t={};n.forEach(d=>{if(d.type==="matching"){const k=(d.matchingLeft||[]).length;t[d.id]=Array(k).fill(void 0)}}),h(t)},[n]);const L=()=>{if(c==="review")return;if(window.confirm("Are you sure you want to reset all your answers? This action cannot be undone.")){const d={};o.forEach(k=>{if(k.type==="matching"){const R=(k.matchingLeft||[]).length;d[k.id]=Array(R).fill(void 0)}}),h(d),a(0),$(new Set)}},S=()=>P(null,null,function*(){if(o.length!==0)try{const t=o.filter(d=>d.type==="matching");t.length>0?yield Ae(t):yield G(o)}catch(t){console.error("Failed to export PDF:",t)}}),v=()=>{x("review")},y=t=>{$(d=>new Set(d).add(t))},C=()=>{let t=0;for(const d of n)if(d.type==="matching"){const k=s[d.id];Array.isArray(k)&&Array.isArray(d.matchingAnswerIndexList)&&k.length===d.matchingAnswerIndexList.length&&k.every((z,D)=>z===d.matchingAnswerIndexList[D])&&(t+=1)}return{correct:t,total:n.length,percentage:Math.round(t/n.length*100)}},f=()=>{const t=j*b,d=t+b;return n.slice(t,d)},i=()=>f().filter(d=>{if(d.type==="matching"){const k=s[d.id];if(!Array.isArray(k))return!1;const R=d.matchingLeft?d.matchingLeft.length:0;return k.length===R&&k.every(z=>z!==void 0)}return!1}).length,p=()=>{const t=f();return t.length>0&&t.every(d=>{if(d.type==="matching"){const k=s[d.id],R=d.matchingLeft?d.matchingLeft.length:0;return Array.isArray(k)&&k.length===R&&k.every(z=>z!==void 0)}return!1})},l=n.length>0&&n.every(t=>{if(t.type==="matching"){const d=s[t.id],k=t.matchingLeft?t.matchingLeft.length:0;return Array.isArray(d)&&d.length===k&&d.every(R=>R!==void 0)}return!1}),g=()=>j<w()-1,E=()=>j>0;return e.jsx(me,{backend:ue,children:e.jsx("div",{className:"matching-quiz-display",children:e.jsxs("div",{className:"quiz-results-container",children:[e.jsxs("div",{className:"quiz-results",children:[e.jsxs("div",{className:"results-header",children:[e.jsx("div",{className:"quiz-title-section",children:e.jsx("div",{className:`step-indicator ${c==="review"?"review-mode":""}`,children:c==="review"?e.jsxs(e.Fragment,{children:["All Questions Review",e.jsxs("span",{className:"step-progress",children:["(",n.filter(t=>{if(t.type==="matching"){const d=s[t.id],k=t.matchingLeft?t.matchingLeft.length:0;return Array.isArray(d)&&d.length===k&&d.every(R=>R!==void 0)}return!1}).length,"/",n.length," answered)"]})]}):e.jsxs(e.Fragment,{children:["Step ",j+1," of ",w(),e.jsxs("span",{className:"step-progress",children:["(",i(),"/",f().length," answered)"]})]})})}),e.jsxs("div",{className:"header-actions",children:[c==="practice"&&l&&e.jsx("button",{className:"review-button",onClick:()=>x("review"),children:"Review All Answers"}),c==="review"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"review-button",onClick:()=>x("practice"),children:"Back to Practice"}),e.jsxs("div",{className:"score-display",children:["Score: ",C().correct,"/",C().total," (",C().percentage,"%)"]})]}),c==="practice"&&Object.keys(s).length>0&&e.jsxs("button",{className:"reset-all-button",onClick:L,title:"Reset all answers",children:[e.jsx(U,{size:16}),"Reset Answers"]}),e.jsx("button",{className:"generate-more-button",onClick:r,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Generate More"]})}),e.jsx("button",{className:"reset-button",onClick:u,children:"Create New Quiz"})]})]}),c==="practice"&&e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"nav-button prev",onClick:()=>a(t=>t-1),disabled:!E(),children:"â† Previous"}),e.jsx("div",{className:"step-dots",children:Array.from({length:w()},(t,d)=>e.jsx("button",{className:`step-dot ${d===j?"active":""} ${(()=>{const k=o.slice(d*b,(d+1)*b);return k.length===0?"":k.every(z=>{if(z.type==="matching"){const D=s[z.id],V=z.matchingLeft?z.matchingLeft.length:0;return Array.isArray(D)&&D.length===V&&D.every(H=>H!==void 0)}return!1})?"completed":""})()}`,onClick:()=>a(d),children:d+1},d))}),e.jsx("button",{className:"nav-button next",onClick:()=>a(t=>t+1),disabled:!g(),children:"Next â†’"})]}),e.jsx("div",{className:"quiz-questions",children:(c==="practice"?f():n).map((t,d)=>e.jsxs("div",{className:"quiz-question-card",children:[e.jsxs("div",{className:"question-header",children:[e.jsx("span",{className:"question-number",children:t.id}),e.jsx("h3",{children:t.question})]}),t.type==="matching"?(()=>{const k=(t.matchingLeft||[]).length,R=s[t.id]||Array(k).fill(void 0);return e.jsx(Ce,{question:t,quizMode:c,currentMatches:R,setMatches:z=>h(D=>M(Q({},D),{[t.id]:z})),questionNumber:j*b+d+1,totalQuestions:n.length,score:C().percentage,onSubmit:v,isSubmitted:F.has(t.id),onQuestionSubmit:()=>y(t.id),onResetQuestion:()=>{$(z=>{const D=new Set(z);return D.delete(t.id),D})}})})():null]},t.id))}),c==="practice"&&p()&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"step-completion",children:[e.jsxs("div",{className:"completion-message",children:[e.jsx("span",{className:"completion-icon",children:"ðŸŽ‰"}),"Great job! You've completed this set of questions."]}),e.jsxs("div",{className:"step-actions",children:[e.jsx("button",{className:"submit-step-button",onClick:v,children:"Submit Answers & Review Results"}),g()&&e.jsx("button",{className:"next-step-button",onClick:()=>a(t=>t+1),children:"Continue to Next Set â†’"})]})]})}),c==="practice"&&w()>1&&e.jsxs("div",{className:"step-navigation bottom-pagination",children:[e.jsx("button",{className:"nav-button prev",onClick:()=>a(t=>t-1),disabled:!E(),children:"â† Previous"}),e.jsx("div",{className:"step-dots",children:Array.from({length:w()},(t,d)=>e.jsx("button",{className:`step-dot ${d===j?"active":""} ${(()=>{const k=n.slice(d*b,(d+1)*b);return k.length===0?"":k.every(z=>{if(z.type==="matching"){const D=s[z.id],V=z.matchingLeft?z.matchingLeft.length:0;return Array.isArray(D)&&D.length===V&&D.every(H=>H!==void 0)}return!1})?"completed":""})()}`,onClick:()=>a(d),children:d+1},d))}),e.jsx("button",{className:"nav-button next",onClick:()=>a(t=>t+1),disabled:!g(),children:"Next â†’"})]}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{className:"btn btn-secondary",onClick:S,title:"Export quiz with correct answers",children:[e.jsx(B,{size:18}),"Export Quiz"]}),e.jsx("button",{className:"generate-more-button",onClick:r,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Generate More"]})})]})]}),e.jsx(W,{questions:n,userAnswers:{},fibUserAnswers:{},orderingUserOrders:{},matchingUserMatches:Object.keys(s).reduce((t,d)=>{const k=parseInt(d),R=s[k];if(R){const z=R.filter(D=>D!==void 0);z.length>0&&(t[k]=z)}return t},{}),isVisible:n.length>0})]})})})},Ye=A.memo(ke),Se=({question:o,quizMode:u,userAnswer:r,onSelect:N})=>{const n=c=>r===void 0?"default":c===o.correctAnswer?"correct":c===r?"incorrect":"default",s=r!==void 0,h=r===o.correctAnswer;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"question-options",children:o.options.map((c,x)=>{const j=n(x),a=r===x;return e.jsxs("div",{className:`option ${j!=="default"?`option-${j}`:""} ${a?"selected":""} ${u==="practice"&&!s?"clickable":""} ${s?"disabled":""}`,onClick:()=>{u==="practice"&&!s&&N(x)},style:{cursor:u==="practice"&&!s?"pointer":"not-allowed",opacity:u==="practice"&&s&&!a&&j!=="correct"?.6:1},children:[e.jsxs("span",{className:"option-letter",children:[String.fromCharCode(65+x),"."]}),e.jsx("span",{className:"option-text",children:c}),s&&u==="practice"&&a&&e.jsx("span",{className:"lock-indicator",title:"Answer locked - use Reset to change",children:"ðŸ”’"}),s&&u==="review"&&e.jsxs(e.Fragment,{children:[j==="correct"&&e.jsx("span",{className:"feedback-icon correct",children:"âœ“"}),j==="incorrect"&&e.jsx("span",{className:"feedback-icon incorrect",children:"âœ—"})]}),s&&u==="practice"&&j==="correct"&&e.jsx("span",{className:"feedback-icon correct",children:"âœ“"}),s&&u==="practice"&&j==="incorrect"&&e.jsx("span",{className:"feedback-icon incorrect",children:"âœ—"})]},x)})}),u==="practice"&&s&&e.jsx("div",{className:"instant-feedback",children:h?e.jsxs("div",{className:"feedback correct-feedback",children:[e.jsx(I,{className:"feedback-icon",size:20}),"Correct! Well done."]}):e.jsxs("div",{className:"feedback incorrect-feedback",children:[e.jsx(O,{className:"feedback-icon",size:20}),"Incorrect. The correct answer is: ",e.jsx("strong",{children:o.options[o.correctAnswer]})]})})]})},Ke=({generatedQuiz:o,onReset:u,onGenerateMore:r,isGenerating:N})=>{const n=o.filter(l=>l.type==="mcq"||l.type==="tf"),[s,h]=A.useState({}),[c,x]=A.useState("practice"),[j,a]=A.useState(0),[b]=A.useState(5),F=A.useRef(n.length);A.useEffect(()=>{if(n.length>F.current&&F.current>0){const l=Math.floor(F.current/b);l<v()&&a(l)}F.current=n.length},[n.length,b]);const $=(l,g)=>{c!=="review"&&s[l]===void 0&&h(E=>M(Q({},E),{[l]:g}))},m=()=>{if(c==="review")return;window.confirm("Are you sure you want to reset all your answers? This action cannot be undone.")&&(h({}),a(0))},w=()=>P(null,null,function*(){if(o.length!==0)try{yield G(o)}catch(l){console.error("Failed to export PDF:",l)}}),L=()=>{let l=0;for(const g of n)s[g.id]===g.correctAnswer&&(l+=1);return{correct:l,total:n.length,percentage:Math.round(l/n.length*100)}},S=()=>{const l=j*b,g=l+b;return n.slice(l,g)},v=()=>Math.ceil(n.length/b),y=()=>S().filter(g=>s[g.id]!==void 0).length,C=()=>{const l=S();return l.length>0&&l.every(g=>s[g.id]!==void 0)},f=n.length>0&&n.every(l=>s[l.id]!==void 0),i=()=>j<v()-1,p=()=>j>0;return e.jsx("div",{className:"mcq-quiz-display",children:e.jsxs("div",{className:"quiz-results-container",children:[e.jsxs("div",{className:"quiz-results",children:[e.jsxs("div",{className:"results-header",children:[e.jsx("div",{className:"quiz-title-section",children:e.jsx("div",{className:`step-indicator ${c==="review"?"review-mode":""}`,children:c==="review"?e.jsxs(e.Fragment,{children:["All Questions Review",e.jsxs("span",{className:"step-progress",children:["(",n.filter(l=>s[l.id]!==void 0).length,"/",n.length," answered)"]})]}):e.jsxs(e.Fragment,{children:["Step ",j+1," of ",v(),e.jsxs("span",{className:"step-progress",children:["(",y(),"/",S().length," answered)"]})]})})}),e.jsxs("div",{className:"header-actions",children:[c==="practice"&&f&&e.jsx("button",{className:"review-button",onClick:()=>x("review"),children:"Review All Answers"}),c==="review"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"review-button",onClick:()=>x("practice"),children:"Back to Practice"}),e.jsxs("div",{className:"score-display",children:["Score: ",L().correct,"/",L().total," (",L().percentage,"%)"]})]}),c==="practice"&&Object.keys(s).length>0&&e.jsxs("button",{className:"reset-all-button",onClick:m,title:"Reset all answers",children:[e.jsx(U,{size:16}),"Reset Answers"]}),e.jsx("button",{className:"generate-more-button",onClick:r,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Generate More"]})}),e.jsx("button",{className:"reset-button",onClick:u,children:"Create New Quiz"})]})]}),c==="practice"&&e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"nav-button prev",onClick:()=>a(l=>l-1),disabled:!p(),children:"â† Previous"}),e.jsx("div",{className:"step-dots",children:Array.from({length:v()},(l,g)=>e.jsx("button",{className:`step-dot ${g===j?"active":""} ${(()=>{const E=o.slice(g*b,(g+1)*b);return E.length===0?"":E.every(d=>s[d.id]!==void 0)?"completed":""})()}`,onClick:()=>a(g),children:g+1},g))}),e.jsx("button",{className:"nav-button next",onClick:()=>a(l=>l+1),disabled:!i(),children:"Next â†’"})]}),e.jsx("div",{className:"quiz-questions",children:(c==="practice"?S():n).map(l=>e.jsxs("div",{className:"quiz-question-card",children:[e.jsxs("div",{className:"question-header",children:[e.jsx("span",{className:"question-number",children:l.id}),e.jsx("h3",{children:l.question})]}),e.jsx(Se,{question:l,quizMode:c,userAnswer:s[l.id],onSelect:g=>$(l.id,g)})]},l.id))}),c==="practice"&&C()&&i()&&e.jsxs("div",{className:"step-completion",children:[e.jsxs("div",{className:"completion-message",children:[e.jsx("span",{className:"completion-icon",children:"ðŸŽ‰"}),"Great job! You've completed this set of questions."]}),e.jsx("button",{className:"next-step-button",onClick:()=>a(l=>l+1),children:"Continue to Next Set â†’"})]}),c==="practice"&&v()>1&&e.jsxs("div",{className:"step-navigation bottom-pagination",children:[e.jsx("button",{className:"nav-button prev",onClick:()=>a(l=>l-1),disabled:!p(),children:"â† Previous"}),e.jsx("div",{className:"step-dots",children:Array.from({length:v()},(l,g)=>e.jsx("button",{className:`step-dot ${g===j?"active":""} ${(()=>{const E=n.slice(g*b,(g+1)*b);return E.length===0?"":E.every(d=>s[d.id]!==void 0)?"completed":""})()}`,onClick:()=>a(g),children:g+1},g))}),e.jsx("button",{className:"nav-button next",onClick:()=>a(l=>l+1),disabled:!i(),children:"Next â†’"})]}),e.jsxs("div",{className:"actions bottom-actions",children:[e.jsxs("button",{className:"btn btn-secondary",onClick:w,title:"Export quiz with correct answers",children:[e.jsx(B,{size:18}),"Export Quiz"]}),e.jsx("button",{className:"generate-more-button",onClick:r,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Generate More"]})})]})]}),e.jsx(W,{questions:n,userAnswers:s,fibUserAnswers:{},orderingUserOrders:{},matchingUserMatches:{},isVisible:n.length>0})]})})},Le=({question:o,quizMode:u,value:r,checked:N,onChange:n,onCheck:s})=>{const h=(o.answersList||[]).map(a=>a.trim().toLowerCase()),c=(r||"").trim().toLowerCase(),x=N&&h.includes(c),j=a=>{a.key==="Enter"&&u!=="review"&&!N&&(r||"").trim()&&s()};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"question-options",children:[e.jsx("input",{type:"text",placeholder:"Type your answer",value:r||"",onChange:a=>u!=="review"&&!N?n(a.target.value):void 0,onKeyDown:j,disabled:u==="review"||!!N}),e.jsx("button",{className:"fib-submit-button",onClick:()=>u!=="review"&&!N&&(r||"").trim()?s():void 0,disabled:u==="review"||!(r||"").trim()||!!N,title:N?"Submitted":"Submit answer",children:N?"Submitted":"Submit"})]}),!!N&&u==="practice"&&e.jsx("div",{className:"instant-feedback",children:x?e.jsx("div",{className:"feedback correct-feedback",children:e.jsxs("div",{className:"feedback-content",children:[e.jsx("span",{className:"feedback-icon",children:"âœ“"}),e.jsx("span",{children:"Correct! Well done."})]})}):e.jsxs("div",{className:"feedback incorrect-feedback",children:[e.jsxs("div",{className:"feedback-content",children:[e.jsx("span",{className:"feedback-icon",children:"âœ—"}),e.jsx("span",{children:"Incorrect."})]}),e.jsxs("strong",{children:["Correct answer: ",(o.answersList||[])[0]||""]})]})})]})},Ze=({generatedQuiz:o,onReset:u,onGenerateMore:r,isGenerating:N})=>{const n=o.filter(t=>t.type==="fib"),s=()=>Math.ceil(n.length/m),[h,c]=A.useState({}),[x,j]=A.useState({}),[a,b]=A.useState("practice"),[F,$]=A.useState(0),[m]=A.useState(5),w=A.useRef(n.length);A.useEffect(()=>{if(n.length>w.current&&w.current>0){const t=Math.floor(w.current/m);t<s()&&$(t)}w.current=n.length},[n.length,m,s]);const L=(t,d)=>{a!=="review"&&c(k=>M(Q({},k),{[t]:d}))},S=t=>{a==="review"||!(h[t]||"").trim()||j(k=>M(Q({},k),{[t]:!0}))},v=()=>{if(a==="review")return;window.confirm("Are you sure you want to reset all your answers? This action cannot be undone.")&&(c({}),j({}),$(0))},y=()=>P(null,null,function*(){if(o.length!==0)try{yield G(o)}catch(t){console.error("Failed to export PDF:",t)}}),C=()=>{let t=0;for(const d of n)if(d.type==="fib"){const k=h[d.id];if(k&&Array.isArray(d.answersList)){const R=k.trim().toLowerCase();d.answersList.map(z=>z.trim().toLowerCase()).includes(R)&&(t+=1)}}return{correct:t,total:n.length,percentage:Math.round(t/n.length*100)}},f=()=>{const t=F*m,d=t+m;return n.slice(t,d)},i=()=>f().filter(d=>d.type==="fib"?h[d.id]!==void 0&&h[d.id].trim()!=="":!1).length,p=()=>{const t=f();return t.length>0&&t.every(d=>d.type==="fib"?h[d.id]!==void 0&&h[d.id].trim()!=="":!1)},l=n.length>0&&n.every(t=>t.type==="fib"?h[t.id]!==void 0&&h[t.id].trim()!=="":!1),g=()=>F<s()-1,E=()=>F>0;return e.jsx("div",{className:"fib-quiz-display",children:e.jsxs("div",{className:"quiz-results-container",children:[e.jsxs("div",{className:"quiz-results",children:[e.jsxs("div",{className:"results-header",children:[e.jsx("div",{className:"quiz-title-section",children:e.jsx("div",{className:`step-indicator ${a==="review"?"review-mode":""}`,children:a==="review"?e.jsxs(e.Fragment,{children:["All Questions Review",e.jsxs("span",{className:"step-progress",children:["(",n.filter(t=>t.type==="fib"?(h[t.id]||"").trim()!=="":!1).length,"/",n.length," answered)"]})]}):e.jsxs(e.Fragment,{children:["Step ",F+1," of ",s(),e.jsxs("span",{className:"step-progress",children:["(",i(),"/",f().length," answered)"]})]})})}),e.jsxs("div",{className:"header-actions",children:[a==="practice"&&l&&e.jsx("button",{className:"review-button",onClick:()=>b("review"),children:"Review All Answers"}),a==="review"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"review-button",onClick:()=>b("practice"),children:"Back to Practice"}),e.jsxs("div",{className:"score-display",children:["Score: ",C().correct,"/",C().total," (",C().percentage,"%)"]})]}),a==="practice"&&(Object.keys(h).length>0||Object.keys(x).length>0)&&e.jsxs("button",{className:"reset-all-button",onClick:v,title:"Reset all answers",children:[e.jsx(U,{size:16}),"Reset Answers"]}),e.jsx("button",{className:"generate-more-button",onClick:r,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Generate More"]})}),e.jsx("button",{className:"reset-button",onClick:u,children:"Create New Quiz"})]})]}),a==="practice"&&e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"nav-button prev",onClick:()=>$(t=>t-1),disabled:!E(),children:"â† Previous"}),e.jsx("div",{className:"step-dots",children:Array.from({length:s()},(t,d)=>e.jsx("button",{className:`step-dot ${d===F?"active":""} ${(()=>{const k=o.slice(d*m,(d+1)*m);return k.length===0?"":k.every(z=>z.type==="fib"?(h[z.id]||"").trim()!=="":!1)?"completed":""})()}`,onClick:()=>$(d),children:d+1},d))}),e.jsx("button",{className:"nav-button next",onClick:()=>$(t=>t+1),disabled:!g(),children:"Next â†’"})]}),e.jsx("div",{className:"quiz-questions",children:(a==="practice"?f():n).map((t,d)=>e.jsxs("div",{className:"quiz-question-card",children:[e.jsxs("div",{className:"question-header",children:[e.jsx("span",{className:"question-number",children:t.id}),e.jsxs("div",{children:[e.jsx("h3",{children:t.question}),e.jsxs("div",{className:"question-progress",children:["Question ",a==="practice"?F*m+d+1:d+1," of ",n.length]})]})]}),t.type==="fib"?e.jsx(Le,{question:t,quizMode:a,value:h[t.id]||"",checked:!!x[t.id],onChange:k=>L(t.id,k),onCheck:()=>S(t.id)}):null]},t.id))}),a==="practice"&&p()&&g()&&e.jsxs("div",{className:"step-completion",children:[e.jsxs("div",{className:"completion-message",children:[e.jsx("span",{className:"completion-icon",children:"ðŸŽ‰"}),"Great job! You've completed this set of questions."]}),e.jsx("button",{className:"next-step-button",onClick:()=>$(t=>t+1),children:"Continue to Next Set â†’"})]}),a==="practice"&&s()>1&&e.jsxs("div",{className:"step-navigation bottom-pagination",children:[e.jsx("button",{className:"nav-button prev",onClick:()=>$(t=>t-1),disabled:!E(),children:"â† Previous"}),e.jsx("div",{className:"step-dots",children:Array.from({length:s()},(t,d)=>e.jsx("button",{className:`step-dot ${d===F?"active":""} ${(()=>{const k=n.slice(d*m,(d+1)*m);return k.length===0?"":k.every(z=>z.type==="fib"?(h[z.id]||"").trim()!=="":!1)?"completed":""})()}`,onClick:()=>$(d),children:d+1},d))}),e.jsx("button",{className:"nav-button next",onClick:()=>$(t=>t+1),disabled:!g(),children:"Next â†’"})]}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{className:"btn btn-secondary",onClick:y,title:"Export quiz with correct answers",children:[e.jsx(B,{size:18}),"Export Quiz"]}),e.jsx("button",{className:"generate-more-button",onClick:r,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Generate More"]})})]})]}),e.jsx(W,{questions:n,userAnswers:{},fibUserAnswers:h,orderingUserOrders:{},matchingUserMatches:{},isVisible:n.length>0})]})})},Fe=({question:o,quizMode:u,currentOrder:r,setOrder:N})=>{const n=A.useRef(null),[s,h]=A.useState(null),[c,x]=A.useState(!1),j=o.orderingContents||[],a=(v,y)=>{if(u!=="practice")return;n.current=y,v.dataTransfer.effectAllowed="move";const C=v.target;C.style.opacity="0.5"},b=v=>{const y=v.target;y.style.opacity="1",h(null),n.current=null},F=(v,y)=>{v.preventDefault(),v.dataTransfer.dropEffect="move",h(y)},$=()=>{h(null)},m=(v,y)=>{if(v.preventDefault(),u!=="practice")return;const C=n.current;if(C===null||C===y)return;const f=r.slice(),[i]=f.splice(C,1);f.splice(y,0,i),N(f),h(null),n.current=null},w=()=>{const v=o.orderingAnswerIndexList||[];return r.length===v.length&&r.every((y,C)=>y===v[C])},L=()=>(o.orderingAnswerIndexList||[]).map(y=>j[y]),S=w()&&u==="practice";return e.jsxs(e.Fragment,{children:[u==="practice"&&!S&&e.jsxs("div",{className:"ordering-instructions",children:[e.jsxs("div",{className:"instruction-text",children:[e.jsx(Z,{size:16,className:"drag-icon"}),"Drag and drop the items to arrange them in the correct order"]}),e.jsxs("button",{className:"hint-button",onClick:()=>x(!c),title:"Show/hide correct order",children:[e.jsx(pe,{size:16}),c?"Hide":"Show"," Answer"]})]}),S?e.jsxs("div",{className:"ordering-locked",children:[e.jsxs("div",{className:"locked-header",children:[e.jsx("span",{className:"lock-icon",children:"ðŸ”’"}),e.jsx("span",{className:"locked-text",children:"Correct Order Achieved!"})]}),e.jsx("div",{className:"correct-order-display",children:L().map((v,y)=>e.jsxs("div",{className:"correct-order-item",children:[e.jsxs("span",{className:"correct-index",children:[y+1,"."]}),e.jsx("span",{className:"correct-text",children:v}),e.jsx("span",{className:"check-mark",children:"âœ“"})]},y))})]}):e.jsx("div",{className:"question-options",children:r.map((v,y)=>e.jsxs("div",{className:`ordering-item ${u==="practice"?"draggable":""} ${s===y?"drag-over":""}`,draggable:u==="practice",onDragStart:C=>a(C,y),onDragEnd:b,onDragOver:C=>F(C,y),onDragLeave:$,onDrop:C=>m(C,y),children:[u==="practice"&&e.jsx("div",{className:"drag-handle",children:e.jsx(Z,{size:16})}),e.jsxs("span",{className:"ordering-index",children:[y+1,"."]}),e.jsx("span",{className:"ordering-text",children:j[v]})]},y))}),c&&!S&&e.jsxs("div",{className:"correct-order-hint",children:[e.jsx("h4",{children:"Correct Order:"}),e.jsx("ol",{className:"correct-order-list",children:L().map((v,y)=>e.jsx("li",{children:v},y))})]})]})},Xe=({generatedQuiz:o,onReset:u,onGenerateMore:r,isGenerating:N})=>{const n=o.filter(i=>i.type==="ordering"),[s,h]=A.useState({}),[c,x]=A.useState("practice"),[j,a]=A.useState(0),[b]=A.useState(5);A.useEffect(()=>{const i={};n.forEach(p=>{if(p.type==="ordering"){const l=p.orderingContents||[];i[p.id]=l.map((g,E)=>E)}}),h(i)},[n]);const F=()=>{if(c==="review")return;if(window.confirm("Are you sure you want to reset all your answers? This action cannot be undone.")){const p={};n.forEach(l=>{if(l.type==="ordering"){const g=l.orderingContents||[];p[l.id]=g.map((E,t)=>t)}}),h(p),a(0)}},$=()=>P(null,null,function*(){if(o.length!==0)try{yield G(o)}catch(i){console.error("Failed to export PDF:",i)}}),m=()=>{let i=0;for(const p of n)if(p.type==="ordering"){const l=s[p.id];Array.isArray(l)&&Array.isArray(p.orderingAnswerIndexList)&&l.length===p.orderingAnswerIndexList.length&&l.every((E,t)=>E===p.orderingAnswerIndexList[t])&&(i+=1)}return{correct:i,total:n.length,percentage:Math.round(i/n.length*100)}},w=()=>{const i=j*b,p=i+b;return n.slice(i,p)},L=()=>Math.ceil(n.length/b),S=()=>w().filter(p=>{if(p.type==="ordering"){const l=s[p.id],g=p.orderingAnswerIndexList||[];return Array.isArray(l)&&l.length===g.length&&l.every((E,t)=>E===g[t])}return!1}).length,v=()=>{const i=w();return i.length>0&&i.every(p=>{if(p.type==="ordering"){const l=s[p.id],g=p.orderingAnswerIndexList||[];return Array.isArray(l)&&l.length===g.length&&l.every((E,t)=>E===g[t])}return!1})},y=n.length>0&&n.every(i=>{if(i.type==="ordering"){const p=s[i.id],l=i.orderingAnswerIndexList||[];return Array.isArray(p)&&p.length===l.length&&p.every((g,E)=>g===l[E])}return!1}),C=()=>j<L()-1,f=()=>j>0;return e.jsx("div",{className:"ordering-quiz-display",children:e.jsxs("div",{className:"quiz-results-container",children:[e.jsxs("div",{className:"quiz-results",children:[e.jsxs("div",{className:"results-header",children:[e.jsx("div",{className:"quiz-title-section",children:e.jsx("div",{className:`step-indicator ${c==="review"?"review-mode":""}`,children:c==="review"?e.jsxs(e.Fragment,{children:["All Questions Review",e.jsxs("span",{className:"step-progress",children:["(",n.filter(i=>{if(i.type==="ordering"){const p=s[i.id],l=i.orderingAnswerIndexList||[];return Array.isArray(p)&&p.length===l.length&&p.every((g,E)=>g===l[E])}return!1}).length,"/",n.length," answered)"]})]}):e.jsxs(e.Fragment,{children:["Step ",j+1," of ",L(),e.jsxs("span",{className:"step-progress",children:["(",S(),"/",w().length," answered)"]})]})})}),e.jsxs("div",{className:"header-actions",children:[c==="practice"&&y&&e.jsx("button",{className:"review-button",onClick:()=>x("review"),children:"Review All Answers"}),c==="review"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"review-button",onClick:()=>x("practice"),children:"Back to Practice"}),e.jsxs("div",{className:"score-display",children:["Score: ",m().correct,"/",m().total," (",m().percentage,"%)"]})]}),c==="practice"&&Object.keys(s).length>0&&e.jsxs("button",{className:"reset-all-button",onClick:F,title:"Reset all answers",children:[e.jsx(U,{size:16}),"Reset Answers"]}),e.jsx("button",{className:"generate-more-button",onClick:r,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Generate More"]})}),e.jsx("button",{className:"reset-button",onClick:u,children:"Create New Quiz"})]})]}),c==="practice"&&e.jsxs("div",{className:"step-navigation",children:[e.jsx("button",{className:"nav-button prev",onClick:()=>a(i=>i-1),disabled:!f(),children:"â† Previous"}),e.jsx("div",{className:"step-dots",children:Array.from({length:L()},(i,p)=>e.jsx("button",{className:`step-dot ${p===j?"active":""} ${(()=>{const l=o.slice(p*b,(p+1)*b);return l.length===0?"":l.every(E=>{if(E.type==="ordering"){const t=s[E.id],d=E.orderingAnswerIndexList||[];return Array.isArray(t)&&t.length===d.length&&t.every((k,R)=>k===d[R])}return!1})?"completed":""})()}`,onClick:()=>a(p),children:p+1},p))}),e.jsx("button",{className:"nav-button next",onClick:()=>a(i=>i+1),disabled:!C(),children:"Next â†’"})]}),e.jsx("div",{className:"quiz-questions",children:(c==="practice"?w():n).map(i=>e.jsxs("div",{className:"quiz-question-card",children:[e.jsxs("div",{className:"question-header",children:[e.jsx("span",{className:"question-number",children:i.id}),e.jsx("h3",{children:i.question})]}),i.type==="ordering"?(()=>{const l=(i.orderingContents||[]).map((E,t)=>t),g=s[i.id]||l;return e.jsx(Fe,{question:i,quizMode:c,currentOrder:g,setOrder:E=>h(t=>M(Q({},t),{[i.id]:E}))})})():null]},i.id))}),c==="practice"&&v()&&C()&&e.jsxs("div",{className:"step-completion",children:[e.jsxs("div",{className:"completion-message",children:[e.jsx("span",{className:"completion-icon",children:"ðŸŽ‰"}),"Great job! You've completed this set of questions."]}),e.jsx("button",{className:"next-step-button",onClick:()=>a(i=>i+1),children:"Continue to Next Set â†’"})]}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{className:"btn btn-secondary",onClick:$,title:"Export quiz with correct answers",children:[e.jsx(B,{size:18}),"Export Quiz"]}),e.jsx("button",{className:"generate-more-button",onClick:r,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Generate More"]})})]})]}),e.jsx(W,{questions:n,userAnswers:{},fibUserAnswers:{},orderingUserOrders:s,matchingUserMatches:{},isVisible:n.length>0})]})})};export{He as C,Ze as F,Ve as L,Ye as M,Xe as O,_,Ge as a,Ke as b,Be as c,We as d,De as e,Te as f,_e as g,Pe as h,Qe as i,Me as j,Ie as k,Oe as l,Ue as m,Re as p};
